<view class="container">
  <view class="header">
    <text class="title">咖啡豆详情</text>
  </view>
  
  <view class="detail-card" wx:if="{{coffeeBean}}">
    <view class="detail-item">
      <text class="label">名称:</text>
      <text class="value">{{coffeeBean.name}}</text>
    </view>
    <view class="detail-item">
      <text class="label">国家:</text>
      <text class="value">{{coffeeBean.country}}</text>
    </view>
    <view class="detail-item">
      <text class="label">产地:</text>
      <text class="value">{{coffeeBean.origin}}</text>
    </view>
    <view class="detail-item">
      <text class="label">等级:</text>
      <text class="value">{{coffeeBean.grade}}</text>
    </view>
    <view class="detail-item">
      <text class="label">类型:</text>
      <text class="value">{{coffeeBean.type === 'premium' ? '精品' : '商业'}}</text>
    </view>
    <view class="detail-item">
      <text class="label">价格:</text>
      <text class="value">{{coffeeBean.price_per_kg ? coffeeBean.price_per_kg + ' 元/kg' : '暂无'}}</text>
    </view>
    <view class="detail-item">
      <text class="label">状态:</text>
      <text class="value">{{coffeeBean.sold_out ? '售罄' : '有货'}}</text>
    </view>
    <view class="detail-item">
      <text class="label">密度:</text>
      <text class="value">{{coffeeBean.density}}</text>
    </view>
    <view class="detail-item">
      <text class="label">海拔:</text>
      <text class="value">{{coffeeBean.altitude}}</text>
    </view>
    <view class="detail-item">
      <text class="label">风味:</text>
      <text class="value">{{coffeeBean.flavor_profile}}</text>
    </view>
    <view class="detail-item">
      <text class="label">加工方式:</text>
      <text class="value">{{coffeeBean.processing_method}}</text>
    </view>
    <view class="detail-item">
      <text class="label">品种:</text>
      <text class="value">{{coffeeBean.variety}}</text>
    </view>
    <view class="detail-item">
      <text class="label">供应商:</text>
      <text class="value">{{coffeeBean.provider}}</text>
    </view>
    <view class="detail-item">
      <text class="label">收获季节:</text>
      <text class="value">{{coffeeBean.harvest_season}}</text>
    </view>
    <view class="detail-item">
      <text class="label">风味分类:</text>
      <text class="value">{{coffeeBean.flavor_category}}</text>
    </view>
    <view class="detail-item">
      <text class="label">地块:</text>
      <text class="value">{{coffeeBean.plot}}</text>
    </view>
    <view class="detail-item">
      <text class="label">庄园:</text>
      <text class="value">{{coffeeBean.estate}}</text>
    </view>
  </view>
  
  <!-- Price Trends Table -->
  <view class="price-trends-section" wx:if="{{priceTrends.length > 0}}">
    <view class="section-header">
      <text class="section-title">价格趋势</text>
    </view>
    
    <view class="table-container">
      <view class="table-header">
        <view class="table-cell header-cell">年份</view>
        <view class="table-cell header-cell">月份</view>
        <view class="table-cell header-cell">价格 (元/kg)</view>
      </view>
      
      <view class="table-row" wx:for="{{priceTrends}}" wx:key="index">
        <view class="table-cell">{{item.data_year}}</view>
        <view class="table-cell">{{item.data_month}}</view>
        <view class="table-cell">{{item.price_per_kg}} 元/kg</view>
      </view>
    </view>
  </view>
  
  <view class="loading" wx:elif="{{loading}}">
    <text>加载中...</text>
  </view>
  
  <view class="error" wx:elif="{{error}}">
    <text>{{error}}</text>
  </view>
</view>